<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GlowSalon Booking</title>
  <link rel="stylesheet" href="styles.css">

  <!-- Firebase scripts -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="firebase.js"></script>
</head>
<body>
  <h1>GlowSalon Booking</h1>

  <label for="serviceSelect">Choose a service:</label>
  <select id="serviceSelect"></select><br><br>
  <input type="text" id="nameInput" placeholder="Your Name" required><br><br>
  <input type="text" id="phoneInput" placeholder="Phone Number" required><br><br>
  <button id="joinQueueBtn">Join Queue</button>

  <script>
    const SERVICES = [
      {id:'haircut', name:'Haircut', duration:20},
      {id:'braids', name:'Braids', duration:180},
      {id:'manicure', name:'Manicure', duration:45},
      {id:'beard', name:'Beard Trim', duration:15},
    ];

    const serviceSelect = document.getElementById('serviceSelect');
    SERVICES.forEach(s => {
      const option = document.createElement('option');
      option.value = s.id;
      option.textContent = s.name;
      serviceSelect.appendChild(option);
    });

    document.getElementById('joinQueueBtn').addEventListener('click', async () => {
      const name = document.getElementById('nameInput').value;
      const phone = document.getElementById('phoneInput').value;
      const serviceId = serviceSelect.value;
      const serviceName = SERVICES.find(s => s.id === serviceId).name;

      if(!name || !phone) return alert('Enter name and phone');

      await db.collection('queue').add({
        name,
        phone,
        service: serviceName,
        status: 'waiting',
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      });

      alert('You have joined the queue!');
      document.getElementById('nameInput').value = '';
      document.getElementById('phoneInput').value = '';
    });
  </script>
</body>
</html>
